

<ul>
	<% for i in 0..23 %>
		<% counter = 0%>
		<%if i < 10 %>
			<%time = "0" + i.to_s + "00" %>
			<% @appointments.each do |appointment| %>
				<% if appointment.hour == time %>
					<%counter = 1%>
				<% end %>
			<% end %>
			<% if counter == 0 %>
				<li class="unselected" data-time="<%=time%>"><%=time%> - 0<%=i+1%>00</li>

			<% else %>
				<%current_appointment = @appointments.where(hour: time) %>
				<% has_job = Job.where(appointment_id: current_appointment[0].id) %>
				<% if has_job != [] %>
					<li class="selected_with_job" data-time="<%=time%>" data-id="<%= current_appointment[0].id%>"><%=time%> - 0<%=i+1%>00</li>
				<% else %>
					<li class="selected" data-time="<%=time%>" data-id="<%= current_appointment[0].id%>"><%=time%> - 0<%=i+1%>00</li>
				<% end %>
			<% end %>
			
		<% end %>
		<% if i >= 10 %>
			<%time = i.to_s + "00" %>
			<% @appointments.each do |appointment| %>
				<% if appointment.hour == time %>
					<%counter = 1%>
				<% end %>
			<% end %>
			<% if counter == 0 %>
				<li class="unselected" data-time="<%=time%>"><%=time%> - 0<%=i+1%>00</li>
			<% else %>
				<%current_appointment = @appointments.where(hour: time) %>
				<% has_job = Job.where(appointment_id: current_appointment[0].id) %>
				<% if has_job != [] %>
					<li class="selected_with_job" data-time="<%=time%>" data-id="<%= current_appointment[0].id%>"><%=time%> - <%=i+1%>00</li>
				<% else %>
					<li class="selected" data-time="<%=time%>" data-id="<%= current_appointment[0].id%>"><%=time%> - <%=i+1%>00</li>
				<% end %>
			<% end %>
		<% end %>

	<% end %>
</ul>